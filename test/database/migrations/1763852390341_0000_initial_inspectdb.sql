-- Baseline migration (auto-generated by @anclatechs/sql-buns-migrate :: inspectdb)
-- On November 22, 2025 (version 1.0.0)
CREATE TABLE IF NOT EXISTS "audit_logs" (
  id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
  message VARCHAR(255) NOT NULL,
  created_at DATETIME NOT NULL DEFAULT 'CURRENT_TIMESTAMP'
);
CREATE TABLE IF NOT EXISTS "users" (
  id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
  email VARCHAR(255) NOT NULL,
  phone VARCHAR(255),
  age INTEGER,
  total_games_played INTEGER NOT NULL DEFAULT '0',
  level TEXT CHECK(level IN ('NOOB', 'INTERMEDIATE', 'EXPERT', 'KING', 'EMPEROR')) NOT NULL DEFAULT 'NOOB',
  bonus_balance VARCHAR(255) NOT NULL
);
CREATE TABLE IF NOT EXISTS "games" (
  id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
  user_id INTEGER NOT NULL,
  timestamp DATETIME NOT NULL DEFAULT 'CURRENT_TIMESTAMP',
  FOREIGN KEY (user_id) REFERENCES users(id)
);
CREATE TABLE IF NOT EXISTS "_sqlbuns_migrations" (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name VARCHAR(255) NOT NULL,
  checksum VARCHAR(64) NOT NULL,
  previous_checksum VARCHAR(64),
  direction VARCHAR(10) NOT NULL DEFAULT 'up',
  applied_at DATETIME DEFAULT 'CURRENT_TIMESTAMP',
  rolled_back INTEGER DEFAULT '0',
  rolled_back_at DATETIME DEFAULT 'CURRENT_TIMESTAMP'
);
CREATE TABLE IF NOT EXISTS "user_level_history" (
  id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
  user_id INTEGER NOT NULL,
  old_level VARCHAR(255) NOT NULL,
  new_level VARCHAR(255) NOT NULL,
  changed_at DATETIME NOT NULL DEFAULT 'CURRENT_TIMESTAMP'
);